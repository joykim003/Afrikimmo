{% load static %}

<nav class="bg-white shadow-md">
    <div class="container mx-auto px-4 py-4">
        <div class="flex justify-between items-center">
            <!-- Logo -->
            <a href="{% url 'core:home' %}" class="font-bold text-xl text-blue-600">
                üè† ImmoB√©nin
            </a>

            <!-- Menu principal -->
            <div class="hidden md:flex space-x-8">
                <a href="{% url 'properties:list' %}" class="text-gray-700 hover:text-blue-600">Nos Biens</a>
                <a href="{% url 'core:about' %}" class="text-gray-700 hover:text-blue-600">√Ä propos</a>
                <a href="{% url 'core:contact' %}" class="text-gray-700 hover:text-blue-600">Contact</a>
                <a href="{% url 'properties:search' %}" class="text-gray-700 hover:text-blue-600">
                    <i class="fas fa-search mr-1"></i>
                    Recherche
                </a>
            </div>

            <!-- Menu de connexion -->
            <div class="hidden md:flex items-center space-x-4">
                {% if user.is_authenticated %}
                    <div class="flex items-center space-x-4">
                        <span class="text-gray-700">Bonjour, {{ user.username }}</span>
                        <a href="{% url 'users:profile' %}" class="text-gray-700 hover:text-blue-600">
                            <i class="fas fa-user-circle mr-1"></i>
                            Profile
                        </a>
                        <form method="post" action="{% url 'users:logout' %}" class="inline">
                            {% csrf_token %}
                            <button type="submit" class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700">
                                <i class="fas fa-sign-out-alt mr-1"></i>
                                D√©connexion
                            </button>
                        </form>
                    </div>
                {% else %}
                    <a href="{% url 'users:login' %}" class="text-gray-700 hover:text-blue-600">
                        <i class="fas fa-sign-in-alt mr-1"></i>
                        Connexion
                    </a>
                    <a href="{% url 'users:signup' %}" class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">
                        <i class="fas fa-user-plus mr-1"></i>
                        Inscription
                    </a>
                {% endif %}
            </div>

            <!-- Menu mobile -->
            <button class="md:hidden" x-data @click="$store.mobile.toggle()">
                <i class="fas fa-bars text-gray-700 text-xl"></i>
            </button>
        </div>
    </div>
</nav>

<!-- Menu mobile -->
<div x-data="{ open: false }" class="md:hidden">
    <div x-show="open" @click.away="open = false" class="absolute top-16 right-0 left-0 bg-white border-b border-gray-200">
        <div class="px-2 pt-2 pb-3 space-y-1">
            <a href="{% url 'properties:list' %}" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Nos Biens</a>
            <a href="{% url 'core:about' %}" class="block px-3 py-2 text-gray-700 hover:text-blue-600">√Ä propos</a>
            <a href="{% url 'core:contact' %}" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Contact</a>
            <a href="{% url 'properties:search' %}" class="block px-3 py-2 text-gray-700 hover:text-blue-600">
                <i class="fas fa-search mr-1"></i>
                Recherche
            </a>
            {% if user.is_authenticated %}
                <a href="{% url 'users:profile' %}" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Profile</a>
                <a href="{% url 'users:logout' %}" class="block px-3 py-2 text-red-600 hover:text-red-700">D√©connexion</a>
            {% else %}
                <a href="{% url 'users:login' %}" class="block px-3 py-2 text-gray-700 hover:text-blue-600">Connexion</a>
                <a href="{% url 'users:signup' %}" class="block px-3 py-2 text-blue-600 hover:text-blue-700">Inscription</a>
            {% endif %}
        </div>
    </div>
</div>
